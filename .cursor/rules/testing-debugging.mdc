---
description: "Guidelines for testing, debugging, and troubleshooting the wiki application"
---

# Testing and Debugging Guidelines

## Testing Framework

The application uses Puppeteer for automated testing and validation.

### Available Test Commands
- `npm test` - Run basic Puppeteer tests
- `npm run test:debug` - Run tests with debug mode enabled
- `npm run validate` - Validate JavaScript syntax
- `npm run validate-themes` - Validate all theme files
- `npm run validate-all` - Complete validation suite

## Common Testing Scenarios

### Theme Testing
1. **Load Test**: Verify all 74 themes load without errors
2. **Switch Test**: Test theme switching functionality
3. **Mobile Test**: Check themes on different screen sizes
4. **Performance Test**: Ensure themes don't slow down the application

### Search Testing
1. **Index Test**: Verify search index is generated correctly
2. **Full-text Search**: Test search across all content
3. **Tag Filtering**: Test AND/OR mode tag filtering
4. **Performance**: Test search speed with large content sets

### Navigation Testing
1. **Tab Management**: Test multi-tab interface and drag & drop
2. **Split View**: Test split pane functionality
3. **Note Loading**: Test markdown rendering and code highlighting
4. **Link Navigation**: Test internal and external link handling

## Debugging Common Issues

### Theme Loading Problems
```javascript
// Check theme loading in browser console
console.log('Current theme:', localStorage.getItem('notesWiki_theme'));
console.log('Base path:', window.location.pathname);
```

Check **[validate-themes.js](mdc:validate-themes.js)** output for CSS syntax errors.

### Search Index Issues
1. Verify **[notes-index.json](mdc:notes-index.json)** exists and is valid JSON
2. Run `npm run build` to regenerate index
3. Check console for search-related errors
4. Verify markdown files have proper frontmatter

### Base Path Detection Issues
The app automatically detects base paths for different hosting platforms:
- **Local**: No base path
- **GitHub Pages**: `/repository-name/`
- **GitLab Pages**: `/repository-name/`

Debug base path detection in **[script.js](mdc:script.js)** `getBasePath()` method.

### Mobile/Responsive Issues
1. Test on different screen sizes
2. Check touch event handling
3. Verify mobile menu functionality
4. Test theme responsiveness

## Performance Debugging

### Large File Handling
- Monitor memory usage with large **[notes-index.json](mdc:notes-index.json)** files
- Check JavaScript performance with 74 themes
- Profile search performance with extensive content

### Network Issues
- Verify all assets load correctly (check Network tab)
- Test offline functionality
- Check for 404 errors on CSS/JS files

## Browser Compatibility

### Supported Features
- ES6 classes and modern JavaScript
- CSS custom properties (CSS variables)
- Local storage for settings persistence
- Fetch API for loading content

### Fallbacks
- Graceful degradation for older browsers
- Alternative loading methods for unsupported features
- Progressive enhancement approach

## Development Server

Use `npm run serve` for local development:
- Serves on http://localhost:8000
- No base path complications
- Real-time testing of changes
- Console access for debugging

### Local Testing Checklist
1. Start local server: `npm run serve`
2. Test theme switching
3. Test search functionality
4. Test note navigation
5. Test mobile responsiveness
6. Check browser console for errors
